---
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---
<style is:global>
  [x-cloak] { display: none !important; }
</style>

<header x-data="{ showmenu: false }" class="fixed inset-x-0 top-0 z-50 bg-transparent"> <!--absolute gør, at headeren tages ud af flowet → den ligger ovenpå som et “lag” og optager derfor ingen plads.-->

  <div class="max-w-[1200px] mx-auto p-4 flex items-center justify-end">
    <!-- Burger/kryds-knap -->
    <button id="menuToggle"
            class="ml-auto z-50 relative"
            aria-controls="menu"
            :aria-expanded="showmenu"
            x-on:click="showmenu = !showmenu">
      <!-- Burger -->
      <svg x-show="!showmenu" x-cloak xmlns="http://www.w3.org/2000/svg" fill="none"
           viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-10">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25" />
      </svg>
      <!-- Kryds -->
      <svg x-show="showmenu" x-cloak xmlns="http://www.w3.org/2000/svg" fill="none"
           viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <!-- Fullscreen overlay menu -->
<nav id="menu"
     class="fixed inset-0 z-40"
     :class="showmenu ? 'pointer-events-auto' : 'pointer-events-none'">

  <!-- Baggrund (fade ind/ud langsomt) -->
  <div class="absolute inset-0 transition-opacity duration-1000 ease-in-out"
       :class="showmenu ? 'opacity-100 bg-[var(--color-background)]' : 'opacity-0 bg-[var(--color-background)]'"
       @click="showmenu = false">
  </div>

  <!-- Panel der glider ned over hele skærmen -->
  <div class="absolute top-0 left-0 w-full h-full
              flex items-center justify-center
              transition-transform duration-1000 ease-in-out
              -translate-y-full"
       :class="showmenu ? 'translate-y-0' : '-translate-y-full'">

    <ul class="space-y-6 text-2xl">
      <li class="text-center">
        <a href="/" class={currentPath === "" ? "font-bold underline" : ""} @click="showmenu = false">Forside</a>
      </li>
      <li class="text-center">
        <a href="/komponentbibliotek/" class={currentPath === 'komponentbibliotek/' ? 'font-bold underline' : ''} @click="showmenu = false">
          Komponentbibliotek
        </a>
      </li>
    </ul>

  </div>
</nav>

</header>
